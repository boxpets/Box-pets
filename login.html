<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="LOGIN/login-style.css" />
  <title>Login/Cadastro</title>
</head>

<body>
  <div class="container">
    <div class="forms-container">
      <div class="signin-signup">

        <!-- lOGIN PAGE -->

        <form action="#" class="sign-in-form">
          <h2 class="title">Entrar</h2>
          <div class="input-field">
            <i class="fas fa-user"></i>
            <input id="email" type="email" placeholder="E-mail" pattern=".{8,}"
              title="E-mail incorreto, porfavor, tente novamente" />
          </div>
          <div class="input-field">
            <i class="fas fa-lock"></i>
            <input id="password" type="password" placeholder="Senha" title="Sua senha entá incorreta, revise sua senha"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*]).{8,}" />

          </div>
          <a href="principal.html"><input value="Login" class="btn solid"/></a>

          <p class="social-text">Siga nossas redes sociais</p>

          <!-- REDES SOCIAIS -->

          <div class="social-media">
            <a href="#" class="social-icon">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-google"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </div>


        </form>

        <!-- REGISTER PAGE -->

        <form action="#" class="sign-up-form">
          <h2 class="title">Cadastrar</h2>
          <div class="input-field">
            <i class="fas fa-user"></i>

            <input id="name" type="text" placeholder="Digite seu nome completo" />

          </div>
          <div class="input-field">
            <i class="fas fa-envelope"></i>

            <input id="email" type="email" placeholder="Email" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$"
              title="Deve conter um número, letra maiúscula, 8 ou mais caracteres, e símbolos(!, @, #, $, %, *)" />

          </div>
          <div class="input-field">
            <i class="fas fa-lock"></i>

            <input id="password" type="password" placeholder="Senha"
              title="Deve conter pelo menos um número, uma letra maiúscula, uma letra minúscula e um dos símbolos (!, @, #, $, %, *) e ter pelo menos 8 ou mais caracteres"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*]).{8,}" />

          </div>

          <div id="messageDiv"></div>
          <button id="loginButton" style="display: none">Ir para a tela de login</button>
          <input type="submit" class="btn" value="Cadastrar" onclick="saveData()" />

          <!-- REDES SOCIAIS -->

          <p class="social-text">Siga nossas redes sociais</p>
          <div class="social-media">
            <a href="#" class="social-icon">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-google"></i>
            </a>
            <a href="#" class="social-icon">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </div>

          <script>
            function saveData() {
              let name, email, password;
              name = document.getElementById("name").value;
              email = document.getElementById("email").value;
              password = document.getElementById("password").value;

              let user_records = new Array();
              user_records = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : [];
              let messageDiv = document.getElementById("messageDiv");

              if (user_records.some((v) => {
                return v.email == email
              })) {
                messageDiv.textContent = "Usuário já cadastrado com este email.";
              }
              else {
                user_records.push({
                  "name": name,
                  "email": email,
                  "password": password
                })
                localStorage.setItem("users", JSON.stringify(user_records));
                messageDiv.textContent = "Usuário cadastrado com sucesso!";
              }
            }
          </script>

        </form>
      </div>
    </div>

    <div class="panels-container">
      <div class="panel left-panel">
        <div class="content">
          <h3>Novo por aqui?</h3>
          <p>
            Clique aqui para se cadastrar!
          </p>
          <button class="btn transparent" id="sign-up-btn">
            Cadastrar
          </button>
        </div>
        <img src="LOGIN/img/log.svg" class="image" alt="" />
      </div>
      <div class="panel right-panel">
        <div class="content">
          <h3>Já é um de nós ?</h3>
          <p>
            CLique aqui para logar em sua conta!
          </p>
          <button class="btn transparent" id="sign-in-btn">
            Entrar
          </button>
        </div>
        <img src="LOGIN/img/register.svg" class="image" alt="" />
      </div>
    </div>
  </div>

  <script src="login.js"></script>
</body>

</html>